// Room.scss – Achiri : carte salon moderne, accessibilité, sécurité, responsive, SEO friendly, branding avancé

.MuiBox-root {
  padding: 24px;

  .room-box {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    background: #fff;
    border-radius: 16px;
    box-shadow: 0 2px 16px #1976d222;
    padding: 1.3rem 1.1rem;
    margin: 0.7rem 0;
    text-decoration: none;
    color: #222;
    border: 1px solid #e3e3e3;
    transition: box-shadow 0.18s, transform 0.12s, background 0.18s;
    min-height: 120px;
    outline: none;
    position: relative;
    overflow: visible;

    &:hover,
    &:focus-visible {
      background: #f5faff;
      box-shadow: 0 4px 24px #1976d244;
      outline: 2px solid #1976d2;
      outline-offset: 2px;
      transform: translateY(-2px) scale(1.015);
      text-decoration: none;
    }

    .room-title {
      font-size: 1.18rem;
      color: #fff;
      background: linear-gradient(90deg, #1976d2 0%, #43a047 100%);
      border-radius: 8px;
      font-weight: 700;
      margin-bottom: 8px;
      padding: 0.45em 1.1em;
      box-shadow: 0 1px 4px #1976d222;
      pointer-events: none;
      text-transform: none;
      letter-spacing: 0.01em;
      border: none;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      min-width: 0;
      max-width: 80vw;
    }

    .room-description {
      text-align: justify;
      color: #1976d2;
      font-size: 1.04rem;
      margin: 0 0 8px 0;
      font-weight: 500;
      letter-spacing: 0.1px;
      max-width: 340px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .room-badges {
      display: flex;
      gap: 4px;
      margin-left: 8px;
      .MuiChip-root {
        font-weight: 600;
        font-size: 0.85em;
        background: #e3f2fd;
        color: #1976d2;
        border-radius: 6px;
      }
    }

    .room-status {
      margin-left: 6px;
      font-weight: 600;
      font-size: 0.85em;
      &.open {
        color: #43a047;
        background: #e8f5e9;
      }
      &.locked {
        color: #b71c1c;
        background: #ffcdd2;
      }
    }

    .room-members {
      color: #1976d2;
      font-weight: 500;
      font-size: 0.98em;
      margin-left: 6px;
      display: flex;
      align-items: center;
      gap: 2px;
    }

    .room-join {
      color: #43a047;
      font-weight: 600;
      font-size: 1.05rem;
      letter-spacing: 0.01em;
      margin-right: 8px;
      display: inline-block;
    }
  }
}

/* Accessibilité : focus visible pour navigation clavier */
.room-box:focus-visible {
  outline: 2px solid #1976d2 !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 3px #1976d288, 0 2px 16px #1976d222;
}

/* Responsive */
@media (max-width: 900px) {
  .MuiBox-root {
    padding: 10px;
    .room-box {
      padding: 0.9rem 0.7rem;
      border-radius: 10px;
      .room-title {
        font-size: 1.05rem;
        padding: 0.35em 0.8em;
      }
      .room-description {
        font-size: 0.98rem;
        max-width: 90vw;
      }
      .room-join,
      .room-members {
        font-size: 0.98rem;
      }
    }
  }
}

@media (max-width: 600px) {
  .MuiBox-root {
    padding: 6px;
    .room-box {
      padding: 0.7rem 0.5rem;
      border-radius: 8px;
      min-height: 80px;
      .room-title {
        font-size: 0.98rem;
        padding: 0.28em 0.6em;
      }
      .room-description {
        font-size: 0.93rem;
        max-width: 98vw;
      }
      .room-join,
      .room-members {
        font-size: 0.93rem;
      }
    }
  }
}

/* Dark mode support (ajouter .dark sur body ou root) */
body.dark, .dark .MuiBox-root {
  background: #181c24;
  .room-box {
    background: #232a36;
    color: #e3e3e3;
    border: 1px solid #222a33;
    .room-title {
      background: linear-gradient(90deg, #1976d2 0%, #43a047 100%);
      color: #fff;
    }
    .room-description {
      color: #90caf9;
    }
    .room-members {
      color: #90caf9;
    }
    .room-status.open {
      color: #43a047;
      background: #1b5e20;
    }
    .room-status.locked {
      color: #ffcdd2;
      background: #b71c1c;
    }
  }
}

/* SEO & documentation :
   - Couleurs accessibles, contrastées.
   - Focus visible, navigation clavier.
   - Responsive, mobile first.
   - Design avancé, branding Achiri.
   - Prêt pour dark/light mode.
   - Sécurité : pas d'info sensible, pas de fuite de données.
   - Prêt pour extensions futures (badges, overlay, analytics, IA…).
*/